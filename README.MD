# WebSocket Chat Application
## Тестирование SPA с WebSocket

Это приложение — чат, основанный на WebSocket, написанный на Java с использованием библиотеки Jetty.
Позволяет пользователям подключаться к чату, отправлять и получать сообщения в реальном времени.

## Оглавление

- [Функциональность](#функциональность)
- [Требования](#требования)
- [Установка](#установка)
- [Запуск приложения](#запуск-приложения)
- [Использование](#использование)
- [Структура проекта](#структура-проекта)

## Функциональность

- Подключение пользователей к чату через WebSocket.
- Авторизация пользователей с уникальными логинами.
- Отправка публичных сообщений, которые видят все пользователи.
- Поддержка личных сообщений между пользователями.
- Уведомления о подключении и отключении пользователей.

## Требования

Для запуска приложения вам потребуется:

- Java Development Kit (JDK) версии 8 или выше.
- Maven (для управления зависимостями и сборки проекта).



## Запуск приложения
Для запуска приложения выполните следующую команду в терминале:

`java -cp target/chat-app.jar server.Start` или запустите по клику на `Run`

Приложение начнет слушать на порту 1400.

Далее, запустите файл index.html в ручную, или кликните по ссылке ниже!

## Использование
Откройте браузер и перейдите по адресу [http://localhost:1400/chat](http://localhost:63342/websocketchat/static/index.html?_ijt=2edvcc3900ue2e5oper4vgpe5j&_ij_reload=RELOAD_ON_SAVE).
Введите свой логин в формате LOGIN:ваш_логин.
После успешной авторизации вы сможете отправлять сообщения, которые будут видны всем пользователям в чате.
Для отправки личного сообщения используйте формат @логин_получателя ваше_сообщение.

## Тестирование
Приложение покрыто E2E-тестами с использованием Playwright. 

### Запуск тестов
Убедитесь, что приложение не запущено (порт 1400 свободен).

Выполните команду:

bash:

`mvn test`


### Структура проекта
```
websocketchat/  
├── pom.xml                              # Файл конфигурации Maven  
├── src/  
│   ├── main/  
│   │   ├── java/  
│   │   │   ├── server/  
│   │   │   │   ├── Start.java            # Главный класс для запуска сервера  
│   │   │   │   ├── WebSocketHandler.java # Обработчик WebSocket-соединений  
│   │   │   │   └── WebSocketServer.java  # Класс для настройки и запуска сервера  
│   │   │   └── health/  
│   │   │       └── HealthCheckServlet.java # Health-check для мониторинга состояния сервера  
│   │   └── resources/  
│   │       ├── static/  
│   │       │   └── index.html            # Frontend (интерфейс приложения)  
│   │       └── config.properties         # Конфигурация URL и путей  
│   ├── test/  
│   │   ├── java/  
│   │   │   ├── config/  
│   │   │   │   └── TestConfig.java       # Конфигурация тестов (селекторы, данные)  
│   │   │   └── server/  
│   │   │       ├── ServerManager.java    # Утилита для управления сервером в тестах  
│   │   │       └── WebSocketChatTests.java # E2E-тесты функциональности чата  
│   │   └── resources/                    # Тестовые ресурсы (при необходимости)  
└── README.md  
```